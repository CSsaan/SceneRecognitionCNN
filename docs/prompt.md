### 方案一：标准零样本提示词（推荐首选）

这是最直接、最通用的方法，适用于大多数现代多模态大模型（如GPT-4V, Gemini Pro Vision等）。

```text
### 角色
你是一个专业的图像场景分析AI。

### 任务
你的任务是分析给定的图像，并识别其中包含的所有场景类型。

### 场景列表
你必须**仅**从以下预定义的场景列表中进行选择，不要创造列表之外的任何场景。
["室内", "室外", "街道", "自然风光", "海滩", "办公室", "厨房", "会议室", "森林", "山脉", "日落", "城市景观"]

### 输出格式
你的输出必须是一个严格的JSON对象，包含一个键 `detected_scenes`，其值是一个字符串列表，包含所有检测到的场景。如果图像中没有匹配的场景，列表应为空。

**输出示例:**
```json
{
  "detected_scenes": ["海滩", "日落"]
}
```

### 指令
请分析以下图像，并严格按照上述格式要求输出JSON结果。

[IMAGE]
```

#### 设计思路与优点：
1.  **角色扮演**：`### 角色` 部分设定了模型的身份，有助于它更专注地完成任务。
2.  **任务明确**：`### 任务` 清晰地说明了要做什么。
3.  **范围限定**：`### 场景列表` 是最关键的一步。它直接限制了模型的“想象力”，防止其输出你系统中未定义的场景，保证了结果的有效性。
4.  **格式强制**：`### 输出格式` 明确要求使用JSON，并提供了一个清晰的示例。这极大地提高了模型输出标准格式的成功率。使用“严格的JSON对象”这样的强指令可以进一步约束模型。
5.  **结构清晰**：使用 `###` 标记将提示词分块，有助于模型更好地解析指令的各个部分。

---

### 方案二：少样本提示词

如果零样本提示词效果不佳，或者模型对格式理解有偏差，可以提供几个示例来“教”会模型如何做。

```text
### 角色
你是一个专业的图像场景分析AI。

### 任务
分析图像，从给定的场景列表中识别所有存在的场景，并以JSON格式输出。

### 场景列表
["室内", "室外", "街道", "自然风光", "海滩", "办公室", "厨房", "会议室", "森林", "山脉", "日落", "城市景观"]

### 示例
---
**示例1:**
[一张显示办公室里有人在开会的图片]
**输出:**
```json
{
  "detected_scenes": ["室内", "办公室", "会议室"]
}
```
---
**示例2:**
[一张夕阳下的海滩照片]
**输出:**
```json
{
  "detected_scenes": ["室外", "海滩", "日落", "自然风光"]
}
```
---

### 指令
现在，请分析以下新图像，并遵循相同的格式输出结果。

[IMAGE]
```

#### 设计思路与优点：
1.  **通过示例学习**：通过提供1-2个完整的“输入-输出”对，模型能更直观地理解任务要求和输出格式，这比单纯描述要有效得多。
2.  **降低理解门槛**：对于能力稍弱或格式遵循性不强的模型，这种方法能显著提升成功率。
3.  **展示边界情况**：你可以在示例中展示一些组合场景（如“室外”+“海滩”），帮助模型理解可以多选。

---

### 方案三：思维链提示词

对于复杂图像，可以引导模型先进行推理，再给出最终答案，这能提高识别的准确性。

```text
### 角色
你是一个专业的图像场景分析AI。

### 任务
你的任务是分析给定的图像，识别其中包含的所有场景类型，并以JSON格式输出。

### 场景列表
["室内", "室外", "街道", "自然风光", "海滩", "办公室", "厨房", "会议室", "森林", "山脉", "日落", "城市景观"]

### 指令
请按以下步骤进行分析，并只输出最终的JSON结果：
1.  **观察图像**：仔细查看图像中的主要元素，如环境、物体、光线等。
2.  **场景匹配**：将观察到的元素与预定义的场景列表进行匹配，找出所有可能相关的场景。
3.  **构建JSON**：将匹配到的场景列表，构建成一个符合 `{"detected_scenes": [...]}` 格式的JSON对象。

**最终输出格式示例:**
```json
{
  "detected_scenes": ["森林", "山脉"]
}
```

请分析以下图像，并完成上述步骤。

[IMAGE]
```

#### 设计思路与优点：
1.  **引导推理过程**：通过分步指令，模型会先“思考”再作答，减少了因图像复杂而导致的误判。
2.  **提高准确性**：思维链（Chain-of-Thought）被证明能有效提升模型在复杂任务上的表现。
3.  **保持输出简洁**：虽然引导了思考过程，但最终指令要求“只输出最终的JSON结果”，保证了输出的纯净度，便于程序解析。

---

### 总结与最佳实践

1.  **首选方案一**：对于大多数现代模型，方案一已经足够强大且简洁。
2.  **场景列表是关键**：无论使用哪种方案，提供一个清晰、完整的场景列表都是必不可少的。这是保证结果与你的业务系统对齐的核心。
3.  **JSON格式是标准**：JSON是机器可读性最好的格式，强烈建议使用。在提示词中反复强调“严格JSON”、“仅输出JSON”等，有助于提高成功率。
4.  **测试与迭代**：不同的模型对提示词的敏感度不同。如果首选方案效果不理想，可以依次尝试方案二和方案三。你也可以组合使用，例如在方案二的基础上加入思维链的步骤。
5.  **处理无匹配场景**：在提示词中明确指出“如果没有匹配的场景，列表应为空”，可以避免模型强行输出一个不相关的场景。

根据你的具体需求和所使用的模型，选择或组合以上方案，应该能很好地解决你的问题。

